FROM python:latest

WORKDIR /usr/app/src

COPY requirements.txt ./

RUN pip install -r ./requirements.txt

ENV FLASK_APP app.py
ENV FLASK_RUN_PORT 8000
ENV FLASK_RUN_HOST 0.0.0.0

EXPOSE 8000

COPY movies.csv links.csv ratings.csv tags.csv ./

COPY app.py ./

WORKDIR /usr/app/src/templates

COPY view_data.html ./

COPY view_ratings.html ./

COPY index.html ./

WORKDIR /usr/app/src

CMD ["flask", "run"]